version: 0.1

env:
  variables:
    BRANCH_NAME: “master”
    MAJOR_VERSION: “1”
    MINOR_VERSION: “0”
    GIT_REPO: “https://github.com/shubhamsharma1993/sample-node.git"
  parameter-store:
   GIT_USER: “shubhamsharma1993”
   GIT_PASS: “Admin_1234#”

phases:
  install:
    commands:
      - apt-get update -y && apt-get install -y git

  pre_build:
    commands:
     - echo “machine git-codecommit.us-east-1.amazonaws.com” >> ~/.netrc
     - echo “login $GIT_USER” >> ~/.netrc
     - echo “password $GIT_PASS” >> ~/.netrc
     - git clone -b $BRANCH_NAME $GIT_REPO
  build:
   commands:
     - cd sample-node
     - git config --global user.email "shubham.sharma2@sourcefuse.com"
     - bash git_taging.sh
